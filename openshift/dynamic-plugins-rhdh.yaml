kind: ConfigMap
apiVersion: v1
metadata:
  name: dynamic-plugins-rhdh
  namespace: quarkusdroneshop-rhdh
  annotations:
    rhdh.redhat.com/backstage-name: developer-hub
data:
  dynamic-plugins.yaml: |
    includes:
      - 'dynamic-plugins.default.yaml'

    plugins:
      # RBAC
      - package: ./dynamic-plugins/dist/backstage-community-plugin-rbac
        disabled: false

      # GitHub Plugins
      - package: ./dynamic-plugins/dist/backstage-plugin-catalog-backend-module-github-org-dynamic
        disabled: false
      - package: ./dynamic-plugins/dist/backstage-plugin-scaffolder-backend-module-github-dynamic
        disabled: false

      # Kubernetes Plugins
      - package: ./dynamic-plugins/dist/backstage-plugin-kubernetes-backend-dynamic
        disabled: false
      - package: ./dynamic-plugins/dist/backstage-plugin-kubernetes
        disabled: false

      # OpenShift Plugins
      - package: ./dynamic-plugins/dist/backstage-community-plugin-topology
        disabled: false

      # Tekton Plugins
      - package: ./dynamic-plugins/dist/backstage-community-plugin-tekton
        disabled: false

    pluginConfigs:
      scaffolder:
        actions:
          '@backstage/plugin-scaffolder-backend-module-kubernetes:createResource':
            disabled: false
          '@backstage/plugin-scaffolder-backend-module-tekton:createPipelinerun':
            disabled: false